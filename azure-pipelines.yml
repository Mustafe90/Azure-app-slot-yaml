trigger:
    - master

pool:
    vmImage: "windows-latest"

stages:
    - stage: Build
      
      jobs:
          - job: Build
            steps:
                - task: DotNetCoreCLI@2
                  displayName: "Nuget Restore"
                  inputs:
                    projects: "**/*.csproj"
                    command: restore
                    arguments: --verbosity d
                
                - task: DotNetCoreCLI@2
                  displayName: "Dotnet Build"
                  inputs:
                      projects: "**/*.csproj"
                      command: build
                      arguments: --no-restore --configuration Release --verbosity d

          - job: Publish
            dependsOn: Build
            condition: succeeded()

            steps:
                - task: DotNetCoreCLI@2
                  displayName: "Publish"
                  inputs:
                    projects: "**/*.csproj"
                    command: publish
                    arguments: --no-build --no-restore --configuration Release --verbosity d

                
                  
